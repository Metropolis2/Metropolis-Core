{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "AggregateResults_for_double",
  "description": "Aggregate results summarizing the results of an iteration.",
  "type": "object",
  "required": [
    "mode_results",
    "surplus"
  ],
  "properties": {
    "surplus": {
      "description": "Distribution of the surplus of the agents.",
      "allOf": [
        {
          "$ref": "#/definitions/Distribution_for_Utility_for_double"
        }
      ]
    },
    "mode_results": {
      "description": "Mode-specific aggregate results.",
      "allOf": [
        {
          "$ref": "#/definitions/AggregateModeResults_for_double"
        }
      ]
    }
  },
  "definitions": {
    "Distribution_for_Utility_for_double": {
      "description": "Struct to describe statistics on a distribution.",
      "type": "object",
      "required": [
        "max",
        "mean",
        "min",
        "std"
      ],
      "properties": {
        "mean": {
          "$ref": "#/definitions/Utility_for_double"
        },
        "std": {
          "$ref": "#/definitions/Utility_for_double"
        },
        "min": {
          "$ref": "#/definitions/Utility_for_double"
        },
        "max": {
          "$ref": "#/definitions/Utility_for_double"
        }
      }
    },
    "Utility_for_double": {
      "description": "Representation of a utility (or monetary) amount.",
      "type": "number",
      "format": "double"
    },
    "AggregateModeResults_for_double": {
      "description": "Aggregate results of an iteration that are mode-specific.",
      "type": "object",
      "properties": {
        "road": {
          "description": "Results specific to road modes.",
          "allOf": [
            {
              "$ref": "#/definitions/AggregateRoadResults_for_double"
            }
          ],
          "nullable": true
        },
        "constant": {
          "description": "Results specific to constant modes.",
          "allOf": [
            {
              "$ref": "#/definitions/AggregateConstantResults_for_double"
            }
          ],
          "nullable": true
        }
      }
    },
    "AggregateRoadResults_for_double": {
      "description": "Struct to store aggregate results specific to road modes of transportation.",
      "type": "object",
      "required": [
        "arrival_times",
        "congestion",
        "count",
        "departure_times",
        "edge_counts",
        "exp_travel_time_diff",
        "in_bottleneck_times",
        "lengths",
        "out_bottleneck_times",
        "road_times",
        "route_free_flow_travel_times",
        "travel_times",
        "utilities"
      ],
      "properties": {
        "count": {
          "description": "Number of trips taken with a road mode of transportation.",
          "type": "integer",
          "format": "uint",
          "minimum": 0.0
        },
        "congestion": {
          "description": "The relative difference between average actual travel time and average free-flow travel time.",
          "allOf": [
            {
              "$ref": "#/definitions/Distribution_for_double"
            }
          ]
        },
        "departure_times": {
          "description": "Distribution of departure times.",
          "allOf": [
            {
              "$ref": "#/definitions/Distribution_for_Time_for_double"
            }
          ]
        },
        "arrival_times": {
          "description": "Distribution of arrival times.",
          "allOf": [
            {
              "$ref": "#/definitions/Distribution_for_Time_for_double"
            }
          ]
        },
        "road_times": {
          "description": "Distribution of road times.",
          "allOf": [
            {
              "$ref": "#/definitions/Distribution_for_Time_for_double"
            }
          ]
        },
        "in_bottleneck_times": {
          "description": "Distribution of in-bottleneck times.",
          "allOf": [
            {
              "$ref": "#/definitions/Distribution_for_Time_for_double"
            }
          ]
        },
        "out_bottleneck_times": {
          "description": "Distribution of out-bottleneck times.",
          "allOf": [
            {
              "$ref": "#/definitions/Distribution_for_Time_for_double"
            }
          ]
        },
        "travel_times": {
          "description": "Distribution of total travel times.",
          "allOf": [
            {
              "$ref": "#/definitions/Distribution_for_Time_for_double"
            }
          ]
        },
        "route_free_flow_travel_times": {
          "description": "Distribution of route free-flow travel times times.",
          "allOf": [
            {
              "$ref": "#/definitions/Distribution_for_Time_for_double"
            }
          ]
        },
        "lengths": {
          "description": "Distribution of route length.",
          "allOf": [
            {
              "$ref": "#/definitions/Distribution_for_Length_for_double"
            }
          ]
        },
        "edge_counts": {
          "description": "Distribution of number of edges taken.",
          "allOf": [
            {
              "$ref": "#/definitions/Distribution_for_double"
            }
          ]
        },
        "utilities": {
          "description": "Distribution of total utility.",
          "allOf": [
            {
              "$ref": "#/definitions/Distribution_for_Utility_for_double"
            }
          ]
        },
        "exp_travel_time_diff": {
          "description": "Distribution of relative difference between expected travel time and actual travel time.",
          "allOf": [
            {
              "$ref": "#/definitions/Distribution_for_double"
            }
          ]
        },
        "dep_time_shift": {
          "description": "Distribution of departure time shift compared to previous iteration (except for the first iteration; excluding agents who chose a different mode in the previous iteration).",
          "allOf": [
            {
              "$ref": "#/definitions/Distribution_for_Time_for_double"
            }
          ],
          "nullable": true
        }
      }
    },
    "Distribution_for_double": {
      "description": "Struct to describe statistics on a distribution.",
      "type": "object",
      "required": [
        "max",
        "mean",
        "min",
        "std"
      ],
      "properties": {
        "mean": {
          "type": "number",
          "format": "double"
        },
        "std": {
          "type": "number",
          "format": "double"
        },
        "min": {
          "type": "number",
          "format": "double"
        },
        "max": {
          "type": "number",
          "format": "double"
        }
      }
    },
    "Distribution_for_Time_for_double": {
      "description": "Struct to describe statistics on a distribution.",
      "type": "object",
      "required": [
        "max",
        "mean",
        "min",
        "std"
      ],
      "properties": {
        "mean": {
          "$ref": "#/definitions/Time_for_double"
        },
        "std": {
          "$ref": "#/definitions/Time_for_double"
        },
        "min": {
          "$ref": "#/definitions/Time_for_double"
        },
        "max": {
          "$ref": "#/definitions/Time_for_double"
        }
      }
    },
    "Time_for_double": {
      "description": "Representation of time duration or timestamp, expressed in seconds.",
      "type": "number",
      "format": "double"
    },
    "Distribution_for_Length_for_double": {
      "description": "Struct to describe statistics on a distribution.",
      "type": "object",
      "required": [
        "max",
        "mean",
        "min",
        "std"
      ],
      "properties": {
        "mean": {
          "$ref": "#/definitions/Length_for_double"
        },
        "std": {
          "$ref": "#/definitions/Length_for_double"
        },
        "min": {
          "$ref": "#/definitions/Length_for_double"
        },
        "max": {
          "$ref": "#/definitions/Length_for_double"
        }
      }
    },
    "Length_for_double": {
      "description": "Representation of a length, expressed in meters.",
      "type": "number",
      "format": "double"
    },
    "AggregateConstantResults_for_double": {
      "description": "Aggregate results of an iteration specific to constant modes.",
      "type": "object",
      "required": [
        "count",
        "utility"
      ],
      "properties": {
        "count": {
          "description": "Number of agents who chose a constant mode.",
          "type": "integer",
          "format": "uint",
          "minimum": 0.0
        },
        "utility": {
          "description": "Distribution of the utility of the agents who chose a constant mode.",
          "allOf": [
            {
              "$ref": "#/definitions/Distribution_for_Utility_for_double"
            }
          ]
        }
      }
    }
  }
}